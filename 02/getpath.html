<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>

<div>
    <ol>
        <li>Coffee</li>
        <li id="tea">Tea</li>
        <li>Milk</li>
    </ol>
</div>

<div id="fruits">
    <ol>
        <li>Orange</li>
        <li id="apple">Apple</li>
        <li>Pineapple</li>
    </ol>
</div>

<script>
    const DELIMITER = ' > ';
    const childOf = (node, idx) => `${node.nodeName.toLowerCase()}:nth-child(${idx + 1})`;
    // Если у элемнета есть id останавливаем поиск,
    // даже несморя на то что это может быть не единственный элемент с таким id.
    // В противном случае путь будет формироваться из имени элемента + его индекс относительно родителя.
    // Поиск прекращается на document.body.
    function getPath(node) {
        if (node === document.body) {
            return 'body';
        }
        let path = '';
        if (node.id) {
            path = `#${node.id}`;
        } else {
            let parent = node.parentElement;
            let nodeIdx = Array.from(parent.children).indexOf(node);
            let parentPath = getPath(parent);
            path = `${parentPath}${DELIMITER}${childOf(node, nodeIdx)}`
        }

        return path;
    }

    console.log(getPath(document.getElementById('fruits').children[0].children[2])); // Pineapple
    // #fruits > ol:nth-child(1) > li:nth-child(3)
    console.log(getPath(document.body.children[0].children[0].children[2])); // // Milk
    // body > div:nth-child(1) > ol:nth-child(1) > li:nth-child(3)
    console.log(getPath(document.getElementById('apple')));
    // #apple
</script>


</body>
</html>